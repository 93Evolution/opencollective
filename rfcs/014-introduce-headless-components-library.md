# Introduce a headless (unstyled) components library

## Affected projects

- [Frontend](https://github.com/opencollective/opencollective-frontend)
- [Frontend template](https://github.com/opencollective/opencollective-frontend-template) (since it depends on Frontend components)

## Motivation

- Reduce the load on the engineering team by re-using components already built with UX/accessibility best practices
- Build new UI more easily, through a library of components that are already tested and documented
- Prepare the ground for introducing a [CSS library](https://github.com/opencollective/opencollective/pull/6694)

## Solution

<!--
Describe the proposed solutions with facts and arguments in favor of this change.
If it has some drawbacks, include them as well.
-->

## Alternatives

|                                   | MUI Base  (@mui/base)                                                                                   | Headless UI                                                                                           | PrimeReact                                                                                                                                                                                                                                                                           | Radix UI                                                   | AriaKit (ex-ReaKit)                                                                                                        | Reach UI                                                                       | React Aria                                                                                                                                     |
| --------------------------------- | ------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| Popularity (weekly npm downloads) | 3.3m                                                                                              | 1.1m                                                                                                  | 87k                                                                                                                                                                                                                                                                                  | 1.9m (@radix-ui/react-primitive)                           | 165k                                                                                                                       | 800k                                                                           | 163k                                                                                                                                           |
| Maturity                          | Very recent (introduced Sep 2022), frequent breaking changes, React bindings not production-ready |                                                                                                       | Quite mature (6 years old)                                                                                                                                                                                                                                                           | Mature (first release Dec 2020)                            | Hard to say, the project was recently rebooted                                                                             | Mature (4 years old)                                                           | Quite recent (1 year old)                                                                                                                      |
| Maintenance                       |                                                                                                   |                                                                                                       | Active                                                                                                                                                                                                                                                                               | Active                                                     | Active                                                                                                                     | Low activity (last publish 8 months ago), looks like a solo-maintainer project | Active                                                                                                                                         |
| License                           | MIT                                                                                               | MIT                                                                                                   | MIT                                                                                                                                                                                                                                                                                  | MIT                                                        | MIT                                                                                                                        | MIT                                                                            | Apache 2.0                                                                                                                                     |
| Tailwind Comp.                    | ✅                                                                                                | ✅                                                                                                    | ✅ ([official Tailwind theme](https://www.primefaces.org/primereact-6-6-0-released-with-tailwind-theme/))                                                                                                                                                                            | ✅                                                         | ✅                                                                                                                         | ✅                                                                             | ✅                                                                                                                                             |
| **Supported components**          |                                                                                                   |                                                                                                       |                                                                                                                                                                                                                                                                                      |                                                            |                                                                                                                            |                                                                                |                                                                                                                                                |
| Modal                             | ✅                                                                                                | ✅                                                                                                    | ✅                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         | ✅                                                                             | ✅                                                                                                                                             |
| Checkbox                          | ✅                                                                                                | ❌                                                                                                    | ✅                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         | ✅                                                                             | ✅                                                                                                                                             |
| Toggle                            | ✅                                                                                                | ✅                                                                                                    | ✅                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         | ❌                                                                             | ✅                                                                                                                                             |
| Tooltip                           | ✅                                                                                                | ❌                                                                                                    | ✅                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         | ❌                                                                             | ✅                                                                                                                                             |
| Select                            | ✅                                                                                                | ✅                                                                                                    | ✅                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         | ❌                                                                             | ✅                                                                                                                                             |
| Dropdown                          | ✅                                                                                                | ✅                                                                                                    | ✅                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         | ❌                                                                             | ✅                                                                                                                                             |
| Collapsible                       | ❌                                                                                                | ❌                                                                                                    | ❌                                                                                                                                                                                                                                                                                   | ✅                                                         | ✅                                                                                                                         |                                                                                | ❌                                                                                                                                             |
| ═════════════                     | ══                                                                                                | ══                                                                                                    | ══                                                                                                                                                                                                                                                                                   | ══                                                         | ══                                                                                                                         | ══                                                                             | ══                                                                                                                                             |
| Conclusion                        | ❌ Not production-ready                                                                           | Only supports a very limited set of components. We'd need to couple it with other component libraries | Many components, the library is very rich. Maybe it lacks some quality, as felt when testing their components + looking at the bug/accessibility issues on Github + the difference between number of Github stars VS actual NPM downloads. They may be trying to do too many things. | Looks mature & stable. Very polished. Numerous components. | The project looks good but currently going through a full re-branding that makes the current state of the project unclear. | ❌ Not active enough, not enough components.                                   | Looks very polished, it's backed by Adobe so likely to stay and be maintained. Special attention given to accessibility and UX best practices. |

Note: Popularity is rated based on the number of GitHub stars and downloads, Maturity is based on the library's age and stability, and Maintenance is based on the frequency of updates and the responsiveness of maintainers. Compatibility with Tailwind is rated based on the level of official support or the availability of community-made integrations. The checkboxes for each library indicate whether they support the listed components, as requested.

## Adoption / Transition strategy

- Start using Radix components when we need them (since they're imported individually)
- According to https://github.com/opencollective/opencollective/issues/6067, new components should be placed in a dedicated design system folder
- When we feel inspired or when it adds value (e.g., our tooltip component is not working great), we can migrate, but there's no imperative to move things that are already working
- Iterate ASAP on the Tailwind RFC to make sure new components will be implemented with the latest CSS tooling
